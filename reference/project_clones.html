<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Calculate clone projection — project_clones • CloneDetective</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Calculate clone projection — project_clones"><meta property="og:description" content="Predicts the number of cells tagged with each clone barcode for a given projection amount.
This function is useful for planning single-cell experiments.
It allows you to estimate the number of cells associated with specific clone barcodes
and anticipate the abundance of clone barcodes (i.e., how many clone barcodes
with a substantial number of cells)."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">CloneDetective</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/index.html">Vignettes</a>
</li>
<li>
  <a href="../reference/index.html">Functions</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Other Packages
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="https://phipsonlab.github.io/NextClone/" class="external-link">NextClone</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/phipsonlab/CloneDetective" class="external-link">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Calculate clone projection</h1>
    
    <div class="hidden name"><code>project_clones.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Predicts the number of cells tagged with each clone barcode for a given projection amount.
This function is useful for planning single-cell experiments.
It allows you to estimate the number of cells associated with specific clone barcodes
and anticipate the abundance of clone barcodes (i.e., how many clone barcodes
with a substantial number of cells).</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">project_clones</span><span class="op">(</span></span>
<span>  <span class="va">count_data</span>,</span>
<span>  <span class="va">count_column</span>,</span>
<span>  grouping_col <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  project_amnt <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10000</span><span class="op">)</span>,</span>
<span>  confidence_threshold <span class="op">=</span> <span class="fl">1</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>count_data</dt>
<dd><p>A data.table containing clone barcode count data.</p></dd>


<dt>count_column</dt>
<dd><p>A character string specifying the column storing clone barcode counts.</p></dd>


<dt>grouping_col</dt>
<dd><p>A character string, default NA. If provided, the projection
is repeated for each group defined by this column.</p></dd>


<dt>project_amnt</dt>
<dd><p>A vector of numeric indicating the number of cells to project to.</p></dd>


<dt>confidence_threshold</dt>
<dd><p>A numeric value indicating the confidence level for
clone barcode detection in cells.
It should be between 0 (exclusive) and 1 (inclusive).
This parameter allows you to specify how confident you are that you will be able to
detect clone barcodes for the cells in future scRNAseq experiment.
It ranges from 0 (indicating no confidence) to 1 (indicating complete confidence).
For example, if you are 70% confident that all cells will have their clone barcodes
detected, you should set the `confidence_threshold` to 0.7.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>A modified data.table with projected cell counts.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>How this projection is done: For each clone barcode, we compute their proportion,
and then multiply the proportion by the number of cells to project to
(specified by the `project_amnt` parameter).
If `grouping_col` is specified, the proportion will be calculated with respect
to the total number of cells in each group.</p>
<p>The parameter `project_amnt` allows you to specify the desired number of cells
for projection.
You can provide a numeric vector containing one or more values, indicating the
number of cells you want to project your data onto.
For example, if you want to project to 10,000 and 20,000 cells,
you can create a vector `c(10000, 20000)` and pass it as the value for `project_amnt`.</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r-datatable.com" class="external-link">data.table</a></span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">toy_clone_counts</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/data.table.html" class="external-link">data.table</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>sample_name <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"test1"</span>, <span class="fl">3</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"test2"</span>, <span class="fl">3</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>read_count <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">5</span>, <span class="fl">20</span>, <span class="fl">10</span>, <span class="fl">15</span>, <span class="fl">12</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>clone_barcodes <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"ACGT"</span>, <span class="st">"CATG"</span>, <span class="st">"CATG"</span>, <span class="st">"ACGT"</span>, <span class="st">"ATGC"</span>, <span class="st">"TCGT"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu">project_clones</span><span class="op">(</span></span></span>
<span class="r-in"><span>    count_data <span class="op">=</span> <span class="va">toy_clone_counts</span>,</span></span>
<span class="r-in"><span>    project_amnt <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">100</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    count_column <span class="op">=</span> <span class="st">"read_count"</span>,</span></span>
<span class="r-in"><span>    grouping_col <span class="op">=</span> <span class="st">"sample_name"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">res</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    sample_name read_count clone_barcodes read_count_proportion</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1:       test1          1           ACGT            0.03846154</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2:       test1          5           CATG            0.19230769</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3:       test1         20           CATG            0.76923077</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4:       test2         10           ACGT            0.27027027</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5:       test2         15           ATGC            0.40540541</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6:       test2         12           TCGT            0.32432432</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    projected_100_confidence_1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1:                   3.846154</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2:                  19.230769</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3:                  76.923077</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4:                  27.027027</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5:                  40.540541</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6:                  32.432432</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Givanna Putri.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

